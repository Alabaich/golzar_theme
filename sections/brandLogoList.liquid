<style>
  .hs-brand-header {
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 25px;
    margin-bottom: 25px;
  }

  .hs-brand-header p {
    margin: 0;
    color: #555;
  }

  .hs-brand-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 30px;
    align-items: center;
  }

  .hs-brand-item a {
    display: block;
    text-decoration: none;
    transition: transform 0.3s ease
    , box-shadow 0.3s ease;
    padding: 15px;
    border-radius: 8px;
  }

  .hs-brand-item a:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.07);
  }

  .hs-brand-item img {
    width: 100%;
    height: auto;
    max-height: 60px;
    object-fit: contain;
    filter: grayscale(100%);
    opacity: 0.8;
    transition: filter 0.3s ease
    , opacity 0.3s ease;
  }

  .hs-brand-item a:hover img {
    filter: grayscale(0%);
    opacity: 1;
  }

  .hs-brand-footer {
    text-align: center;
    margin-top: 25px;
  }

  .hs-brand-footer a {
    text-decoration: underline;
    font-size: 16px;
    font-weight: 500;
    color: #111;
  }

  .hs-brand-footer a:hover {
    color: #777;
  }

  @media (max-width: 768px) {
    .hs-brand-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
    }
  }

  @media (max-width: 480px) {
    .hs-brand-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .hs-brand-item a {
      padding: 10px;
    }
  }
</style>

<div class="page-width pageWidth">

  {% if section.settings.heading != blank or section.settings.subheading != blank %}
    <div class="hs-brand-header">
      {% if section.settings.heading != blank %}
        <h2 style="margin: 0;">{{ section.settings.heading | escape }}</h2>
      {% endif %}
      {% if section.settings.subheading != blank %}
        <p>{{ section.settings.subheading | escape }}</p>
      {% endif %}
    </div>
  {% endif %}

  {% if section.blocks.size > 0 %}
    <div class="hs-brand-grid">
      {% for block in section.blocks %}
        <div class="hs-brand-item" {{ block.shopify_attributes }}>
          <a href="{{ block.settings.brand_url | default: '#' }}">
            {% if block.settings.logo != blank %}
              <img src="{{ block.settings.logo | img_url: '300x' }}" alt="{{ block.settings.brand_name | escape | default: 'Brand logo' }}">
            {% else %}
              {% assign placeholder_svg = 'logo-set-placeholder-' | append: forloop.index | modulo: 4 | plus: 1 %}
              {{ placeholder_svg | placeholder_svg_tag: 'placeholder-svg' }}
            {% endif %}
          </a>
        </div>
      {% endfor %}
    </div>
  {% endif %}

  {% if section.settings.all_brands_text != blank and section.settings.all_brands_url != blank %}
    <div class="hs-brand-footer">
      <a href="{{ section.settings.all_brands_url }}">
        {{ section.settings.all_brands_text | escape }}
      </a>
    </div>
  {% endif %}

</div>

{% schema %}
  {
    "name": "Brand Logo List",
    "class": "index-section",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Our Top Brands"
      }, {
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "Browse our most popular brands"
      }, {
        "type": "text",
        "id": "all_brands_text",
        "label": "Footer Link Text",
        "default": "View All Brands"
      }, {
        "type": "url",
        "id": "all_brands_url",
        "label": "Footer Link URL"
      }
    ],
    "blocks": [
      {
        "type": "brand_logo",
        "name": "Brand Logo",
        "settings": [
          {
            "type": "image_picker",
            "id": "logo",
            "label": "Logo Image"
          }, {
            "type": "text",
            "id": "brand_name",
            "label": "Brand Name (for SEO alt text)",
            "info": "This is crucial for SEO and accessibility."
          }, {
            "type": "url",
            "id": "brand_url",
            "label": "Brand Link URL",
            "info": "Links to the brand's collection page."
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Brand Logo List",
        "category": "Image",
        "blocks": [
          {
            "type": "brand_logo"
          },
          {
            "type": "brand_logo"
          },
          {
            "type": "brand_logo"
          },
          {
            "type": "brand_logo"
          }, {
            "type": "brand_logo"
          }, {
            "type": "brand_logo"
          }
        ]
      }
    ]
  }
{% endschema %}