{%- liquid
  assign settings = section.settings
  assign section_title = settings.section_title
-%}

{%- style -%}
  .ig-section-{{ section.id }} {
    --section-padding-top: {{ settings.padding_top | default: 50 }}px;
    --section-padding-bottom: {{ settings.padding_bottom | default: 50 }}px;
    --title-color: {{ settings.title_color | default: '#101828' }};
    --title-font-size-desktop: {{ settings.title_font_size_desktop | default: 32 }}px;
    --title-font-size-mobile: {{ settings.title_font_size_mobile | default: 24 }}px;
    --gap-size: {{ settings.gap_size | default: 16 }}px;
    background-color: {{ settings.background_color | default: 'transparent' }};
    padding-top: var(--section-padding-top);
    padding-bottom: var(--section-padding-bottom);
    font-family: 'Raleway'
    , sans-serif;
  }

  .ig-section-{{ section.id }}
  .ig__title {
    font-family: 'Raleway'
    , sans-serif;
    font-weight: 600;
    font-size: var(--title-font-size-desktop);
    line-height: 1.3;
    color: var(--title-color);
    margin-top: 0;
    margin-bottom: 30px;
    text-align: {{ settings.title_align | default: 'left' }};
  }

  .ig-section-{{ section.id }}
  .ig__main-grid-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--gap-size);
    align-items: start;
  }

  .ig-section-{{ section.id }}
  .ig__left-column {
    display: grid;
    grid-template-rows: auto auto;
    gap: var(--gap-size);
  }

  .ig-section-{{ section.id }}
  .ig__left-bottom-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--gap-size);
  }

  .ig-section-{{ section.id }}
  .ig__right-column {
    display: grid;
    grid-template-rows: auto auto auto;
    gap: var(--gap-size);
  }

  .ig-section-{{ section.id }}
  .ig__slot {
    position: relative;
    overflow: hidden;
    border-radius: 16px;
    background-color: #f0f0f0;
    transition: transform 0.3s ease;
    aspect-ratio: 4 / 2;
  }

  .ig-section-{{ section.id }}.ig__slot:hover {
    transform: scale(0.98);
  }

  .ig-section-{{ section.id }}
  .ig__slot img
  , .ig-section-{{ section.id }}
  .ig__slot .ig__placeholder-svg-wrapper {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .ig-section-{{ section.id }}
  .ig__slot .ig__placeholder-svg-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f5f5f5;
  }

  .ig-section-{{ section.id }}
  .ig__slot .placeholder-svg {
    width: 25%;
    height: 25%;
    max-width: 80px;
    max-height: 80px;
    opacity: 0.2;
  }

  @media (max-width: 768px) {
    .ig-section-{{ section.id }} .ig__title {
      font-size: var(--title-font-size-mobile);
      margin-bottom: 20px;
    }

    .ig-section-{{ section.id }}
    .ig__main-grid-container {
      grid-template-columns: 1fr;
    }

    .ig-section-{{ section.id }}
    .ig__left-column
    , .ig-section-{{ section.id }}
    .ig__right-column {
      grid-template-rows: auto;
    }
    .ig-section-{{ section.id }}
    .ig__left-bottom-wrapper {
      grid-template-columns: 1fr;
    }

    .ig-section-{{ section.id }}
    .ig__slot {
      aspect-ratio: {{ settings.mobile_image_aspect_ratio | default: '1/1' }};
    }
  }
{%- endstyle -%}

<div class="ig-section-{{ section.id }}">
  <div class="page-width">
    {%- if section_title != blank -%}
      <h2 class="ig__title">{{ section_title | escape }}</h2>
    {%- endif -%}

    <div class="ig__main-grid-container">
      <div class="ig__left-column">
        <div class="ig__slot ig__slot--1">
          {%- assign image1 = settings.image_slot_1 -%}
          {%- assign link1 = settings.link_slot_1 -%}
          {%- assign alt1 = settings.alt_slot_1 -%}
          {%- if image1 != blank -%}
            {%- if link1 != blank -%}<a href="{{ link1 }}" aria-label="{{ alt1 | default: image1.alt | default: section_title | escape }}">{%- endif -%}
            <img
              srcset="{%- if image1.width >= 375 -%}{{ image1 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image1.width >= 550 -%}{{ image1 | image_url: width: 550 }} 550w,{%- endif -%} {%- if image1.width >= 750 -%}{{ image1 | image_url: width: 750 }} 750w,{%- endif -%} {%- if image1.width >= 1100 -%}{{ image1 | image_url: width: 1100 }} 1100w,{%- endif -%} {{ image1 | image_url }} {{ image1.width }}w"
              src="{{ image1 | image_url: width: 750 }}"
              sizes="(max-width: 768px) 100vw, 50vw"
              alt="{{ alt1 | default: image1.alt | default: section_title | escape }}"
              loading="lazy"
              width="{{ image1.width }}"
              height="{{ image1.height }}">
            {%- if link1 != blank -%}</a>{%- endif -%}
          {%- elsif settings.show_onboarding_placeholders -%}
            <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
          {%- endif -%}
        </div>
        <div class="ig__left-bottom-wrapper">
          <div class="ig__slot ig__slot--2">
            {%- assign image2 = settings.image_slot_2 -%}
            {%- assign link2 = settings.link_slot_2 -%}
            {%- assign alt2 = settings.alt_slot_2 -%}
            {%- if image2 != blank -%}
              {%- if link2 != blank -%}<a href="{{ link2 }}" aria-label="{{ alt2 | default: image2.alt | default: section_title | escape }}">{%- endif -%}
              <img
                srcset="{%- if image2.width >= 180 -%}{{ image2 | image_url: width: 180 }} 180w,{%- endif -%} {%- if image2.width >= 375 -%}{{ image2 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image2.width >= 550 -%}{{ image2 | image_url: width: 550 }} 550w,{%- endif -%} {{ image2 | image_url }} {{ image2.width }}w"
                src="{{ image2 | image_url: width: 375 }}"
                sizes="(max-width: 768px) 100vw, 25vw"
                alt="{{ alt2 | default: image2.alt | default: section_title | escape }}"
                loading="lazy"
                width="{{ image2.width }}"
                height="{{ image2.height }}">
              {%- if link2 != blank -%}</a>{%- endif -%}
            {%- elsif settings.show_onboarding_placeholders -%}
              <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
            {%- endif -%}
          </div>
          <div class="ig__slot ig__slot--3">
            {%- assign image3 = settings.image_slot_3 -%}
            {%- assign link3 = settings.link_slot_3 -%}
            {%- assign alt3 = settings.alt_slot_3 -%}
            {%- if image3 != blank -%}
              {%- if link3 != blank -%}<a href="{{ link3 }}" aria-label="{{ alt3 | default: image3.alt | default: section_title | escape }}">{%- endif -%}
              <img
                srcset="{%- if image3.width >= 180 -%}{{ image3 | image_url: width: 180 }} 180w,{%- endif -%} {%- if image3.width >= 375 -%}{{ image3 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image3.width >= 550 -%}{{ image3 | image_url: width: 550 }} 550w,{%- endif -%} {{ image3 | image_url }} {{ image3.width }}w"
                src="{{ image3 | image_url: width: 375 }}"
                sizes="(max-width: 768px) 100vw, 25vw"
                alt="{{ alt3 | default: image3.alt | default: section_title | escape }}"
                loading="lazy"
                width="{{ image3.width }}"
                height="{{ image3.height }}">
              {%- if link3 != blank -%}</a>{%- endif -%}
            {%- elsif settings.show_onboarding_placeholders -%}
              <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
            {%- endif -%}
          </div>
        </div>
      </div>

      <div class="ig__right-column">
        <div class="ig__slot ig__slot--4">
          {%- assign image4 = settings.image_slot_4 -%}
          {%- assign link4 = settings.link_slot_4 -%}
          {%- assign alt4 = settings.alt_slot_4 -%}
          {%- if image4 != blank -%}
            {%- if link4 != blank -%}<a href="{{ link4 }}" aria-label="{{ alt4 | default: image4.alt | default: section_title | escape }}">{%- endif -%}
            <img
              srcset="{%- if image4.width >= 375 -%}{{ image4 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image4.width >= 550 -%}{{ image4 | image_url: width: 550 }} 550w,{%- endif -%} {%- if image4.width >= 750 -%}{{ image4 | image_url: width: 750 }} 750w,{%- endif -%} {{ image4 | image_url }} {{ image4.width }}w"
              src="{{ image4 | image_url: width: 750 }}"
              sizes="(max-width: 768px) 100vw, 50vw"
              alt="{{ alt4 | default: image4.alt | default: section_title | escape }}"
              loading="lazy"
              width="{{ image4.width }}"
              height="{{ image4.height }}">
            {%- if link4 != blank -%}</a>{%- endif -%}
          {%- elsif settings.show_onboarding_placeholders -%}
            <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
          {%- endif -%}
        </div>
        <div class="ig__slot ig__slot--5">
          {%- assign image5 = settings.image_slot_5 -%}
          {%- assign link5 = settings.link_slot_5 -%}
          {%- assign alt5 = settings.alt_slot_5 -%}
          {%- if image5 != blank -%}
            {%- if link5 != blank -%}<a href="{{ link5 }}" aria-label="{{ alt5 | default: image5.alt | default: section_title | escape }}">{%- endif -%}
            <img
              srcset="{%- if image5.width >= 375 -%}{{ image5 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image5.width >= 550 -%}{{ image5 | image_url: width: 550 }} 550w,{%- endif -%} {%- if image5.width >= 750 -%}{{ image5 | image_url: width: 750 }} 750w,{%- endif -%} {{ image5 | image_url }} {{ image5.width }}w"
              src="{{ image5 | image_url: width: 750 }}"
              sizes="(max-width: 768px) 100vw, 50vw"
              alt="{{ alt5 | default: image5.alt | default: section_title | escape }}"
              loading="lazy"
              width="{{ image5.width }}"
              height="{{ image5.height }}">
            {%- if link5 != blank -%}</a>{%- endif -%}
          {%- elsif settings.show_onboarding_placeholders -%}
            <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
          {%- endif -%}
        </div>
        <div class="ig__slot ig__slot--6">
          {%- assign image6 = settings.image_slot_6 -%}
          {%- assign link6 = settings.link_slot_6 -%}
          {%- assign alt6 = settings.alt_slot_6 -%}
          {%- if image6 != blank -%}
            {%- if link6 != blank -%}<a href="{{ link6 }}" aria-label="{{ alt6 | default: image6.alt | default: section_title | escape }}">{%- endif -%}
            <img
              srcset="{%- if image6.width >= 375 -%}{{ image6 | image_url: width: 375 }} 375w,{%- endif -%} {%- if image6.width >= 550 -%}{{ image6 | image_url: width: 550 }} 550w,{%- endif -%} {%- if image6.width >= 750 -%}{{ image6 | image_url: width: 750 }} 750w,{%- endif -%} {{ image6 | image_url }} {{ image6.width }}w"
              src="{{ image6 | image_url: width: 750 }}"
              sizes="(max-width: 768px) 100vw, 50vw"
              alt="{{ alt6 | default: image6.alt | default: section_title | escape }}"
              loading="lazy"
              width="{{ image6.width }}"
              height="{{ image6.height }}">
            {%- if link6 != blank -%}</a>{%- endif -%}
          {%- elsif settings.show_onboarding_placeholders -%}
            <div class="ig__placeholder-svg-wrapper">{{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}</div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Masonry Image Gallery (3+3)",
    "tag": "section",
    "class": "shopify-section--masonry-image-gallery",
    "settings": [
      {
        "type": "header",
        "content": "Section Title & Style"
      },
      {
        "type": "text",
        "id": "section_title",
        "label": "Title",
        "default": "Discover products in a real-life setting"
      },
      {
        "type": "select",
        "id": "title_align",
        "label": "Title Alignment",
        "options": [
          {
            "value": "left",
            "label": "Left"
          }, {
            "value": "center",
            "label": "Center"
          }, {
            "value": "right",
            "label": "Right"
          }
        ],
        "default": "left"
      },
      {
        "type": "color",
        "id": "title_color",
        "label": "Title Color",
        "default": "#101828"
      }, {
        "type": "range",
        "id": "title_font_size_desktop",
        "label": "Title Font Size (Desktop)",
        "min": 20,
        "max": 60,
        "step": 1,
        "unit": "px",
        "default": 32
      }, {
        "type": "range",
        "id": "title_font_size_mobile",
        "label": "Title Font Size (Mobile)",
        "min": 16,
        "max": 40,
        "step": 1,
        "unit": "px",
        "default": 24
      }, {
        "type": "color",
        "id": "background_color",
        "label": "Section Background Color",
        "default": "rgba(0,0,0,0)"
      }, {
        "type": "range",
        "id": "gap_size",
        "label": "Gap between images",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "px",
        "default": 16
      }, {
        "type": "select",
        "id": "mobile_image_aspect_ratio",
        "label": "Image Aspect Ratio (Mobile)",
        "options": [
          {
            "value": "auto",
            "label": "Original (Auto)"
          }, {
            "value": "1/1",
            "label": "Square (1:1)"
          }, {
            "value": "3/4",
            "label": "Portrait (3:4)"
          }, {
            "value": "4/3",
            "label": "Landscape (4:3)"
          }
        ],
        "default": "1/1"
      }, {
        "type": "checkbox",
        "id": "show_onboarding_placeholders",
        "label": "Show placeholders for empty slots",
        "default": true
      }, {
        "type": "header",
        "content": "Image Slots (6 Total: 3 Left, 3 Right)"
      }, {
        "type": "header",
        "content": "Left Column - Image 1 (Top Large)"
      }, {
        "type": "image_picker",
        "id": "image_slot_1",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_1",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_1",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Left Column - Image 2 (Bottom Left)"
      }, {
        "type": "image_picker",
        "id": "image_slot_2",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_2",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_2",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Left Column - Image 3 (Bottom Right)"
      }, {
        "type": "image_picker",
        "id": "image_slot_3",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_3",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_3",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Right Column - Image 4 (Top)"
      }, {
        "type": "image_picker",
        "id": "image_slot_4",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_4",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_4",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Right Column - Image 5 (Middle)"
      }, {
        "type": "image_picker",
        "id": "image_slot_5",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_5",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_5",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Right Column - Image 6 (Bottom)"
      }, {
        "type": "image_picker",
        "id": "image_slot_6",
        "label": "Image"
      }, {
        "type": "url",
        "id": "link_slot_6",
        "label": "Link"
      }, {
        "type": "text",
        "id": "alt_slot_6",
        "label": "Alt Text"
      }, {
        "type": "header",
        "content": "Section Padding"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "label": "Top Padding",
        "default": 50
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "label": "Bottom Padding",
        "default": 50
      }
    ],
    "presets": [
      {
        "name": "Masonry Gallery (3+3)",
        "settings": {}
      }
    ]
  }
{% endschema %}