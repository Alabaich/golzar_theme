<style>
  #service-features-{{ section.id }} {
    background-color: {{ section.settings.background_color }};
    overflow: hidden;
  }

  #service-features-{{ section.id }}
  .features-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
    text-align: center;
  }

  #service-features-{{ section.id }}
  .feature-item {
    flex: 1 1 250px;
    max-width: 350px;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
  }

  #service-features-{{ section.id }}
  .feature-icon-wrapper {
    margin-bottom: 20px;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #service-features-{{ section.id }}
  .feature-icon {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  #service-features-{{ section.id }}
  .feature-icon-svg {
    width: 40px;
    height: 40px;
    color: #333;
  }

  #service-features-{{ section.id }}
  .feature-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin: 0 0 10px;
    color: {{ section.settings.text_color }};
    line-height: 1.3;
  }

  #service-features-{{ section.id }}
  .feature-text {
    font-size: 0.95rem;
    color: {{ section.settings.text_color }};
    opacity: 0.8;
    line-height: 1.5;
    margin: 0;
  }

  @media (max-width: 768px) {
    #service-features-{{ section.id }} .features-container {
      flex-direction: column;
      align-items: center;
      gap: 40px;
    }

    #service-features-{{ section.id }}
    .feature-item {
      width: 100%;
      max-width: 100%;
    }
  }
</style>

<div id="service-features-{{ section.id }}" class="pageWidth page-width">
  <div class="features-container">
    {% for block in section.blocks %}
      <div class="feature-item" {{ block.shopify_attributes }}>
        <div class="feature-icon-wrapper">
          {% if block.settings.icon != blank %}
            {{ block.settings.icon | image_url: width: 120 | image_tag: loading: 'lazy', class: 'feature-icon' }}
          {% else %}
            <svg
              class="feature-icon-svg"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="1.5">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          {% endif %}
        </div>
        <h3 class="feature-title">{{ block.settings.title | escape }}</h3>
        {% if block.settings.text != blank %}
          <div class="feature-text">{{ block.settings.text }}</div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
  {
    "name": "Service Features",
    "settings": [
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#ffffff"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#2c2d2c"
      }
    ],
    "blocks": [
      {
        "type": "feature",
        "name": "Feature Column",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Icon Image",
            "info": "Upload a PNG icon preferably."
          }, {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Premium Quality"
          }, {
            "type": "richtext",
            "id": "text",
            "label": "Description",
            "default": "<p>Description of the service or feature.</p>"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Service Features",
        "blocks": [
          {
            "type": "feature",
            "settings": {
              "title": "Free Shipping"
            }
          }, {
            "type": "feature",
            "settings": {
              "title": "5-Year Warranty"
            }
          }, {
            "type": "feature",
            "settings": {
              "title": "Secure Payment"
            }
          }
        ]
      }
    ]
  }
{% endschema %}