{{ 'section-blog-post.css' | asset_url | stylesheet_tag }}

<article class="container-styles pageWidth">
    <!-- Sidebar (Recent News) -->
    <aside class="sidebar">
        <div class="recent-news">
            <h4 class="insidePadding">Recent News</h4>
            <ul>
                {% for article in blog.articles limit: 3 %}
                    <li class="insidePadding">
                        <a href="{{ article.url }}">{{ article.title }}</a>
                        <span>{{ article.published_at | date: '%d %B %Y' }}</span>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </aside>

    <header class="page-width ff">
        <h2 class="article-template__title">{{ article.title }}</h2>
        <span class="caption-with-letter-spacing">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none"><path d="M22 10.989C22 4.9225 17.072 0 11 0C4.928 0 0 4.9225 0 10.989C0 14.3302 1.518 17.3415 3.894 19.3627C3.916 19.3848 3.938 19.3848 3.938 19.4067C4.136 19.5608 4.334 19.7148 4.554 19.8687C4.664 19.9347 4.752 20.0214 4.862 20.1094C6.67984 21.3419 8.82573 22.0005 11.022 22C13.2183 22.0005 15.3642 21.3419 17.182 20.1094C17.292 20.0434 17.38 19.9568 17.49 19.8894C17.688 19.7367 17.908 19.5828 18.106 19.4288C18.128 19.4067 18.15 19.4067 18.15 19.3848C20.482 17.3401 22 14.3302 22 10.989ZM11 20.6154C8.932 20.6154 7.04 19.9554 5.478 18.8568C5.5 18.6807 5.544 18.5061 5.588 18.3301C5.71909 17.8531 5.91135 17.3951 6.16 16.9675C6.402 16.5495 6.688 16.1755 7.04 15.8455C7.37 15.5155 7.766 15.2089 8.162 14.9669C8.58 14.7249 9.02 14.5489 9.504 14.4169C9.99177 14.2854 10.4948 14.2193 11 14.2203C12.4996 14.2096 13.9442 14.7849 15.026 15.8235C15.532 16.3295 15.928 16.9235 16.214 17.6041C16.368 18.0001 16.478 18.4181 16.544 18.8568C14.9204 19.9982 12.9847 20.6122 11 20.6154ZM7.634 10.4404C7.44016 9.99655 7.34268 9.51665 7.348 9.03237C7.348 8.54975 7.436 8.06575 7.634 7.62575C7.832 7.18575 8.096 6.79112 8.426 6.46112C8.756 6.13112 9.152 5.8685 9.592 5.6705C10.032 5.4725 10.516 5.3845 11 5.3845C11.506 5.3845 11.968 5.4725 12.408 5.6705C12.848 5.8685 13.244 6.1325 13.574 6.46112C13.904 6.79112 14.168 7.18713 14.366 7.62575C14.564 8.06575 14.652 8.54975 14.652 9.03237C14.652 9.53837 14.564 10.0004 14.366 10.439C14.1749 10.8725 13.9065 11.2676 13.574 11.605C13.2365 11.937 12.8414 12.205 12.408 12.3956C11.4989 12.7692 10.4791 12.7692 9.57 12.3956C9.13662 12.205 8.74152 11.937 8.404 11.605C8.071 11.2725 7.80903 10.8772 7.634 10.4404ZM17.842 17.7361C17.842 17.6921 17.82 17.6701 17.82 17.6261C17.6036 16.9378 17.2847 16.2861 16.874 15.6929C16.4629 15.0953 15.9577 14.5682 15.378 14.1322C14.9353 13.7992 14.4554 13.5187 13.948 13.2963C14.1788 13.144 14.3927 12.9674 14.586 12.7696C14.914 12.4458 15.202 12.0839 15.444 11.6916C15.9312 10.8911 16.1829 9.96942 16.17 9.03237C16.1768 8.33871 16.0421 7.65094 15.774 7.01113C15.5093 6.39463 15.1284 5.83489 14.652 5.3625C14.1763 4.89504 13.6165 4.52181 13.002 4.2625C12.3611 3.99492 11.6725 3.86065 10.978 3.86787C10.2834 3.86108 9.59478 3.99582 8.954 4.26388C8.33422 4.52263 7.77303 4.90378 7.304 5.3845C6.83656 5.85968 6.46332 6.41908 6.204 7.03312C5.93594 7.67294 5.8012 8.36071 5.808 9.05437C5.808 9.53837 5.874 10.0004 6.006 10.439C6.138 10.901 6.314 11.319 6.556 11.7136C6.776 12.1096 7.084 12.4616 7.414 12.7916C7.612 12.9896 7.832 13.1642 8.074 13.3182C7.56502 13.5466 7.08499 13.8346 6.644 14.1763C6.072 14.6163 5.566 15.1429 5.148 15.7149C4.73311 16.3056 4.41386 16.958 4.202 17.6481C4.18 17.6921 4.18 17.7361 4.18 17.7581C2.442 15.9995 1.364 13.6263 1.364 10.989C1.364 5.6925 5.698 1.36263 11 1.36263C16.302 1.36263 20.636 5.6925 20.636 10.989C20.6331 13.5189 19.6286 15.9448 17.842 17.7361Z" fill="#38739E"></path></svg>
      <span>{{ article.published_at | date: '%d %b %Y, %I:%M %p %Z' }}</span>
      <span class="circle-divider">10 min read</span>
    </span>
    </header>

    <!-- Featured Image -->
    <div class="ff">
        <div class="article-template__hero-container">
            <div class="article-template__hero-medium media">
                <img
                        src="{{ article.image | img_url: 'large' }}"
                        alt="{{ article.title | escape }}"
                        loading="eager"
                        fetchpriority="high"
                >
            </div>
        </div>

        <!-- Main Content -->
        <div class="article-template__content page-width rte">
            {{ article.content }}
        </div>
    </div>

    <!-- Navigation -->
    <div class="prev_next_articles ff">
        <div style="float: left; clear: left">
            <a href="{{ blog.previous_article.url | default: '#' }}">
                <svg class="icon icon--tail-left" viewBox="0 0 24 24" role="presentation">
                    <path fill="currentColor" d="M1.293 11.293L9 3.586 10.414 5l-6 6H22c.553 0 1 .448 1 1s-.447 1-1 1H4.414l6 6L9 20.414l-7.707-7.707c-.391-.391-.391-1.023 0-1.414z"></path>
                </svg>
                <span>{{ blog.previous_article.title | default: 'Previous' }}</span>
            </a>
        </div>
        <div style="float: right; clear: right">
            <a href="{{ blog.next_article.url | default: '#' }}">
                <svg class="icon icon--tail-right" viewBox="0 0 24 24" role="presentation">
                    <path fill="currentColor" d="M22.707 11.293L15 3.586 13.586 5l6 6H2c-.553 0-1 .448-1 1s.447 1 1 1h17.586l-6 6L15 20.414l7.707-7.707c.391-.391.391-1.023 0-1.414z"></path>
                </svg>
                <span>{{ blog.next_article.title | default: 'Next' }}</span>
            </a>
        </div>
    </div>

    <!-- Comments Section -->
    {%- if blog.comments_enabled? -%}
        <div class="article-template__comment-wrapper background-secondary ff">
            <div
                    id="comments"
                    class="page-width {% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
            >
                {%- if article.comments_count > 0 -%}
                    {%- assign anchorId = '#Comments-' | append: article.id -%}

                    <h2 id="Comments-{{ article.id }}" tabindex="-1">
                        {{ 'blogs.article.comments' | t: count: article.comments_count }}
                    </h2>
                    {% paginate article.comments by 5 %}
                        <div class="article-template__comments">
                            {%- if comment.status == 'pending' and comment.content -%}
                                <article id="{{ comment.id }}" class="article-template__comments-comment">
                                    {{ comment.content }}
                                    <footer class="right">
                                        <span class="circle-divider caption-with-letter-spacing">{{ comment.author }}</span>
                                    </footer>
                                </article>
                            {%- endif -%}

                            {%- for comment in article.comments -%}
                                <article id="{{ comment.id }}" class="article-template__comments-comment">
                                    {{ comment.content }}
                                    <footer class="right">
                    <span class="circle-divider caption-with-letter-spacing">{{ comment.author }}</span
                    ><span class="caption-with-letter-spacing">
                      {{- comment.created_at | time_tag: format: 'date' -}}
                    </span>
                                    </footer>
                                </article>
                            {%- endfor -%}
                            {% render 'pagination', paginate: paginate, anchor: anchorId %}
                        </div>
                    {% endpaginate %}
                {%- endif -%}
                {% form 'new_comment', article %}
                    {%- liquid
                        assign post_message = 'blogs.article.success'
                        if blog.moderated? and comment.status == 'unapproved'
                            assign post_message = 'blogs.article.success_moderated'
                        endif
                    -%}
                    <h2>{{ 'blogs.article.comment_form_title' | t }}</h2>
                    {%- if form.errors -%}
                        <div class="form__message" role="alert">
                            <h3 class="form-status caption-large text-body" tabindex="-1" autofocus>
                <span class="svg-wrapper">
                  {{- 'icon-error.svg' | inline_asset_content -}}
                </span>
                                {{ 'templates.contact.form.error_heading' | t }}
                            </h3>
                        </div>
                        <ul class="form-status-list caption-large">
                            {%- for field in form.errors -%}
                                <li>
                                    <a href="#CommentForm-{{ field }}" class="link">
                                        {%- if form.errors.translated_fields[field] contains 'author' -%}
                                            {{ 'blogs.article.name' | t }}
                                        {%- elsif form.errors.translated_fields[field] contains 'body' -%}
                                            {{ 'blogs.article.message' | t }}
                                        {%- else -%}
                                            {{ form.errors.translated_fields[field] }}
                                        {%- endif -%}
                                        {{ form.errors.messages[field] }}
                                    </a>
                                </li>
                            {%- endfor -%}
                        </ul>
                    {%- elsif form.posted_successfully? -%}
                        <div class="form-status-list form__message" role="status">
                            <h3 class="form-status" tabindex="-1" autofocus>
                <span class="svg-wrapper">
                  {{- 'icon-success.svg' | inline_asset_content -}}
                </span>
                                {{ post_message | t }}
                            </h3>
                        </div>
                    {%- endif -%}

                    <div
                            {% if blog.moderated? == false %}
                                class="article-template__comments-fields"
                            {% endif %}
                    >
                        <div class="article-template__comment-fields">
                            <div class="field field--with-error">
                                <input
                                        type="text"
                                        name="comment[author]"
                                        id="CommentForm-author"
                                        class="field__input"
                                        autocomplete="name"
                                        value="{{ form.author }}"
                                        aria-required="true"
                                        required
                                        {% if form.errors contains 'author' %}
                                            aria-invalid="true"
                                            aria-describedby="CommentForm-author-error"
                                        {% endif %}
                                        placeholder="{{ 'blogs.article.name' | t }}"
                                >
                                <label class="field__label" for="CommentForm-author">
                                    {{- 'blogs.article.name' | t }}
                                    <span aria-hidden="true">*</span></label
                                >
                                {%- if form.errors contains 'author' -%}
                                    <small id="CommentForm-author-error">
                    <span class="form__message">
                      <span class="svg-wrapper">
                        {{- 'icon-error.svg' | inline_asset_content -}}
                      </span>
                      {{- 'blogs.article.name' | t }}
                        {{ form.errors.messages.author }}.</span
                    >
                                    </small>
                                {%- endif -%}
                            </div>
                            <div class="field field--with-error">
                                <input
                                        type="email"
                                        name="comment[email]"
                                        id="CommentForm-email"
                                        autocomplete="email"
                                        class="field__input"
                                        value="{{ form.email }}"
                                        autocorrect="off"
                                        autocapitalize="off"
                                        aria-required="true"
                                        required
                                        {% if form.errors contains 'email' %}
                                            aria-invalid="true"
                                            aria-describedby="CommentForm-email-error"
                                        {% endif %}
                                        placeholder="{{ 'blogs.article.email' | t }}"
                                >
                                <label class="field__label" for="CommentForm-email">
                                    {{- 'blogs.article.email' | t }}
                                    <span aria-hidden="true">*</span></label
                                >
                                {%- if form.errors contains 'email' -%}
                                    <small id="CommentForm-email-error">
                    <span class="form__message">
                      <span class="svg-wrapper">
                        {{- 'icon-error.svg' | inline_asset_content -}}
                      </span>
                      {{- 'blogs.article.email' | t }}
                        {{ form.errors.messages.email }}.</span
                    >
                                    </small>
                                {%- endif -%}
                            </div>
                        </div>
                        <div class="field field--with-error">
              <textarea
                      rows="5"
                      name="comment[body]"
                      id="CommentForm-body"
                      class="text-area field__input"
                      aria-required="true"
                      required
                {% if form.errors contains 'body' %}
                    aria-invalid="true"
                    aria-describedby="CommentForm-body-error"
                {% endif %}
                placeholder="{{ 'blogs.article.message' | t }}"
              >{{ form.body }}</textarea>
                            <label class="form__label field__label" for="CommentForm-body">
                                {{- 'blogs.article.message' | t }}
                                <span aria-hidden="true">*</span></label
                            >
                        </div>
                        {%- if form.errors contains 'body' -%}
                            <small id="CommentForm-body-error">
                <span class="form__message">
                  <span class="svg-wrapper">
                    {{- 'icon-error.svg' | inline_asset_content -}}
                  </span>
                  {{- 'blogs.article.message' | t }}
                    {{ form.errors.messages.body }}.</span
                >
                            </small>
                        {%- endif -%}
                    </div>
                    {%- if blog.moderated? -%}
                        <p class="article-template__comment-warning caption">{{ 'blogs.article.moderated' | t }}</p>
                    {%- endif -%}
                    <input type="submit" class="button" value="{{ 'blogs.article.post' | t }}">
                {% endform %}
            </div>
        </div>
    {%- endif -%}
</article>

<script type="application/ld+json">
  {{ article | structured_data }}
</script>

{% schema %}
{
  "name": "t:sections.main-article.name",
  "tag": "section",
  "class": "section",
  "blocks": [
    {
      "type": "@app"
    },
    {
      "type": "featured_image",
      "name": "t:sections.main-article.blocks.featured_image.name",
      "limit": 1,
      "settings": [
        {
          "type": "select",
          "id": "image_height",
          "options": [
            {
              "value": "adapt",
              "label": "t:sections.main-article.blocks.featured_image.settings.image_height.options__1.label"
            },
            {
              "value": "small",
              "label": "t:sections.main-article.blocks.featured_image.settings.image_height.options__2.label"
            },
            {
              "value": "medium",
              "label": "t:sections.main-article.blocks.featured_image.settings.image_height.options__3.label"
            },
            {
              "value": "large",
              "label": "t:sections.main-article.blocks.featured_image.settings.image_height.options__4.label"
            }
          ],
          "default": "adapt",
          "label": "t:sections.main-article.blocks.featured_image.settings.image_height.label",
          "info": "t:sections.main-article.blocks.featured_image.settings.image_height.info"
        }
      ]
    },
    {
      "type": "title",
      "name": "t:sections.main-article.blocks.title.name",
      "limit": 1,
      "settings": [
        {
          "type": "checkbox",
          "id": "blog_show_date",
          "default": true,
          "label": "t:sections.main-article.blocks.title.settings.blog_show_date.label"
        },
        {
          "type": "checkbox",
          "id": "blog_show_author",
          "default": false,
          "label": "t:sections.main-article.blocks.title.settings.blog_show_author.label"
        }
      ]
    },
    {
      "type": "content",
      "name": "t:sections.main-article.blocks.content.name",
      "limit": 1
    },
    {
      "type": "share",
      "name": "t:sections.main-article.blocks.share.name",
      "limit": 2,
      "settings": [
        {
          "type": "text",
          "id": "share_label",
          "label": "t:sections.main-article.blocks.share.settings.text.label",
          "default": "t:sections.main-article.blocks.share.settings.text.default"
        },
        {
          "type": "paragraph",
          "content": "t:sections.main-article.blocks.share.settings.featured_image_info.content"
        },
        {
          "type": "paragraph",
          "content": "t:sections.main-article.blocks.share.settings.title_info.content"
        }
      ]
    }
  ]
}
{% endschema %}

<style>
    .container-styles {
        position: relative;
    }
    .ff {
        position: relative;
        right: 10%;
    }
    .sidebar {
        position: absolute;
        top: 4%;
        right: 2%;
        width: 400px;
        background: #f9f9f9;
        border-radius: 0 0 8px 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        margin: 0; /* Remove extra margins */
    }
    .recent-news h4 {
        margin: 0;
        color: #1a3c60;
        border-bottom: 1px solid black;
    }
    .recent-news ul {
        list-style: none;
        padding: 0;
        margin: 0; /* Remove extra margins */
    }
    .recent-news ul li {
        margin-bottom: 0;
        border-bottom: 1px solid black;
        display: flex;
        flex-direction: column;
    }
    .recent-news ul li a {
        color: #151515;
        text-decoration: none;
        font-weight: 600;
        font-size: 18px;
    }
    .recent-news ul li span {
        color: #5C5C5C;
        font-size: 14px;
    }
    .article-template__title {
        margin-bottom: 25px;
        color: #1a3c60;
    }
    .caption-with-letter-spacing {
        display: flex;
        align-items: center;
        gap: 2.5em;
        color: #5C5C5C;
        font-size: 14px;
        padding-bottom: 40px;
    }
    .circle-divider {
        margin: 0 0.5em;
    }
    .article-template__hero-container {
        margin: 1em 0;
        margin-left: auto;
        margin-right: auto;
    }
    .article-template__hero-medium {
        overflow: hidden;
        border-radius: 8px;
    }
    .article-template__hero-medium img {
        width: 100%;
        height: auto;
        display: block;
    }
    .article-template__content {
        margin: 0 auto 2em;
        color: #333;
        line-height: 1.6;
    }
    .article-template__content h2 {
        color: #22282B;
        margin: 0;
        padding-bottom: 10px;
        font-size:24px;
        font-weight: 600;
        font-family: "Black Mango";
    }
    .article-template__content h3 {
        color: #007BFF;
        font-size: 1.2em;
        margin-top: 1em;
    }
    .article-template__content p {
        margin-bottom: 25px;
    }
    .article-template__content ul {
        margin-left: 1.5em;
        margin-bottom: 1em;
    }
    .prev_next_articles {
        clear: both;
        margin-top: 2em;
        padding: 1em 0;
        border-top: 1px solid #ddd;
    }
    .prev_next_articles a {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: #007BFF;
        font-size: 0.9em;
    }
    .prev_next_articles svg {
        width: 1em;
        height: 1em;
        margin-right: 0.5em;
        fill: #007BFF;
    }
    .article-template__comment-wrapper {
        background: #fff;
        padding: 1em;
        margin-top: 2em;
        border: 1px solid #ddd;
        border-radius: 8px;
    }
</style>