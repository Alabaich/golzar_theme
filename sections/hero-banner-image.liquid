{%- liquid
  assign settings = section.settings
  assign heading = settings.heading
  assign paragraph_text = settings.paragraph_text
  assign button_text = settings.button_text
  assign button_link = settings.button_link
  assign main_image = settings.main_image
-%}

{%- style -%}
  .hero-banner-image-{{ section.id }} {
    --section-bg-color: {{ settings.section_bg_color | default: '#FFFFFF' }};
    --heading-color: {{ settings.heading_color | default: '#111111' }};
    --text-color: {{ settings.text_color | default: '#333333' }};
    --button-bg-color: {{ settings.button_bg_color | default: '#0D2033' }};
    --button-text-color: {{ settings.button_text_color | default: '#FFFFFF' }};
    --image-border-radius: {{ settings.image_border_radius | default: 16 }}px;
    --button-border-radius: {{ settings.button_border_radius | default: 6 }}px;

    background-color: var(--section-bg-color);
    padding-top: {{ settings.padding_top | default: 50 }}px;
    padding-bottom: {{ settings.padding_bottom | default: 50 }}px;
    font-family: -apple-system
    , BlinkMacSystemFont
    , 'Segoe UI'
    , Roboto
    , Helvetica
    , Arial
    , sans-serif
    , 'Apple Color Emoji'
    , 'Segoe UI Emoji'
    , 'Segoe UI Symbol';
  }

  .hero-banner-image-{{ section.id }}
  .page-width {
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    padding-left: 20px;
    padding-right: 20px;
  }

  .hero-banner-image-{{ section.id }}
  .top-content {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-start;
    gap: 30px;
    margin-bottom: 30px;
  }

  .hero-banner-image-{{ section.id }}
  .heading-column {
    flex: 2 1 500px;
  }

  .hero-banner-image-{{ section.id }}
  .cta-column {
    flex: 1 1 300px;
    padding-top: 5px;
  }

  .hero-banner-image-{{ section.id }}
  .main-heading {
    font-size: {{ settings.heading_font_size | default: 48 }}px;
    font-weight: {{ settings.heading_font_weight | default: 700 }};
    line-height: 1.2;
    color: var(--heading-color);
    margin-top: 0;
    margin-bottom: 0;
  }

  .hero-banner-image-{{ section.id }}
  .paragraph-text {
    font-size: {{ settings.paragraph_font_size | default: 15 }}px;
    line-height: 1.6;
    color: var(--text-color);
    margin-top: 0;
    margin-bottom: 20px;
  }

  .hero-banner-image-{{ section.id }}
  .cta-button {
    display: inline-block;
    background-color: var(--button-bg-color);
    color: var(--button-text-color);
    padding: 12px 24px;
    font-size: {{ settings.button_font_size | default: 16 }}px;
    font-weight: 500;
    text-decoration: none;
    border-radius: var(--button-border-radius);
    transition: opacity 0.3s ease;
  }

  .hero-banner-image-{{ section.id }}.cta-button:hover {
    opacity: 0.85;
  }

  .hero-banner-image-{{ section.id }}
  .cta-button .arrow {
    margin-left: 8px;
  }

  .hero-banner-image-{{ section.id }}
  .main-image-container {
    width: 100%;
    border-radius: var(--image-border-radius);
    overflow: hidden;
    line-height: 0;
  }

  .hero-banner-image-{{ section.id }}
  .main-image-container img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
  }

  @media (max-width: 768px) {
    .hero-banner-image-{{ section.id }} .top-content {
      flex-direction: column;
      align-items: stretch;
      gap: 20px;
    }
    .hero-banner-image-{{ section.id }}
    .main-heading {
      font-size: {{ settings.heading_font_size_mobile | default: 32 }}px;
    }
    .hero-banner-image-{{ section.id }}
    .cta-column {
      padding-top: 0;
    }
    .hero-banner-image-{{ section.id }}
    .paragraph-text {
      font-size: {{ settings.paragraph_font_size_mobile | default: 14 }}px;
    }
    .hero-banner-image-{{ section.id }}
    .cta-button {
      font-size: {{ settings.button_font_size_mobile | default: 15 }}px;
      padding: 10px 20px;
    }
  }

{%- endstyle -%}

<div class="hero-banner-image-{{ section.id }}">
  <div class="page-width">
    <div class="top-content">
      <div class="heading-column">
        {%- if heading != blank -%}
          <h1 class="main-heading">{{ heading | newline_to_br }}</h1>
        {%- endif -%}
      </div>
      <div class="cta-column">
        {%- if paragraph_text != blank -%}
          <div class="paragraph-text">{{ paragraph_text }}</div>
        {%- endif -%}
        {%- if button_text != blank and button_link != blank -%}
          <a href="{{ button_link }}" class="cta-button">
            {{ button_text | escape }}
            {%- if settings.show_button_arrow -%}
              <span class="arrow">&gt;</span>
            {%- endif -%}
          </a>
        {%- endif -%}
      </div>
    </div>

    {%- if main_image != blank -%}
      <div class="main-image-container">
        <img
          src="{{ main_image | image_url: width: main_image.width }}"
          alt="{{ main_image.alt | default: heading | escape }}"
          width="{{ main_image.width }}"
          height="{{ main_image.height }}"
          loading="lazy">
      </div>
    {%- elsif settings.show_onboarding_info -%}
      <div class="main-image-container" style="background-color: #f0f0f0; aspect-ratio: 16/9; display:flex; align-items:center; justify-content:center;">
        {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      </div>
    {%- endif -%}
  </div>
</div>

{% schema %}
  {
    "name": "Hero Banner with Image",
    "tag": "section",
    "class": "shopify-section-hero-banner-image",
    "settings": [
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "textarea",
        "id": "heading",
        "label": "Heading",
        "default": "Bath and kitchen essentials showroom"
      },
      {
        "type": "richtext",
        "id": "paragraph_text",
        "label": "Paragraph Text",
        "default": "<p>Express your personality with our range of styles and finishes.</p>"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default": "lorem ipsum"
      }, {
        "type": "url",
        "id": "button_link",
        "label": "Button Link"
      }, {
        "type": "checkbox",
        "id": "show_button_arrow",
        "label": "Show arrow on button",
        "default": true
      }, {
        "type": "image_picker",
        "id": "main_image",
        "label": "Main Image"
      }, {
        "type": "header",
        "content": "Styling"
      }, {
        "type": "range",
        "id": "heading_font_size",
        "label": "Heading Font Size (Desktop)",
        "min": 24,
        "max": 72,
        "step": 1,
        "unit": "px",
        "default": 48
      }, {
        "type": "range",
        "id": "heading_font_size_mobile",
        "label": "Heading Font Size (Mobile)",
        "min": 20,
        "max": 48,
        "step": 1,
        "unit": "px",
        "default": 32
      }, {
        "type": "select",
        "id": "heading_font_weight",
        "label": "Heading Font Weight",
        "options": [
          {
            "value": "400",
            "label": "Regular"
          }, {
            "value": "500",
            "label": "Medium"
          }, {
            "value": "600",
            "label": "Semi-Bold"
          }, {
            "value": "700",
            "label": "Bold"
          }
        ],
        "default": "700"
      }, {
        "type": "range",
        "id": "paragraph_font_size",
        "label": "Paragraph Font Size (Desktop)",
        "min": 12,
        "max": 20,
        "step": 1,
        "unit": "px",
        "default": 15
      }, {
        "type": "range",
        "id": "paragraph_font_size_mobile",
        "label": "Paragraph Font Size (Mobile)",
        "min": 12,
        "max": 18,
        "step": 1,
        "unit": "px",
        "default": 14
      }, {
        "type": "range",
        "id": "button_font_size",
        "label": "Button Font Size (Desktop)",
        "min": 12,
        "max": 20,
        "step": 1,
        "unit": "px",
        "default": 16
      }, {
        "type": "range",
        "id": "button_font_size_mobile",
        "label": "Button Font Size (Mobile)",
        "min": 12,
        "max": 18,
        "step": 1,
        "unit": "px",
        "default": 15
      }, {
        "type": "range",
        "id": "image_border_radius",
        "min": 0,
        "max": 50,
        "step": 1,
        "unit": "px",
        "label": "Main Image Border Radius",
        "default": 16
      }, {
        "type": "range",
        "id": "button_border_radius",
        "min": 0,
        "max": 30,
        "step": 1,
        "unit": "px",
        "label": "Button Border Radius",
        "default": 6
      }, {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "section_bg_color",
        "label": "Section Background",
        "default": "#FFFFFF"
      }, {
        "type": "color",
        "id": "heading_color",
        "label": "Heading Color",
        "default": "#111111"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Paragraph Text Color",
        "default": "#333333"
      }, {
        "type": "color",
        "id": "button_bg_color",
        "label": "Button Background",
        "default": "#0D2033"
      }, {
        "type": "color",
        "id": "button_text_color",
        "label": "Button Text Color",
        "default": "#FFFFFF"
      }, {
        "type": "header",
        "content": "Section Padding"
      }, {
        "type": "range",
        "id": "padding_top",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "label": "Top Padding",
        "default": 50
      }, {
        "type": "range",
        "id": "padding_bottom",
        "min": 0,
        "max": 150,
        "step": 5,
        "unit": "px",
        "label": "Bottom Padding",
        "default": 50
      }, {
        "type": "checkbox",
        "id": "show_onboarding_info",
        "label": "Show placeholder if no image",
        "default": true
      }
    ],
    "presets": [
      {
        "name": "Hero Banner with Image"
      }
    ]
  }
{% endschema %}